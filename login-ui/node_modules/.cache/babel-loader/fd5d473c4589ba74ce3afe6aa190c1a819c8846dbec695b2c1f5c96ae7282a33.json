{"ast":null,"code":"import axios from 'axios';\nimport { config } from '../../Constants';\nexport const LoginApi = {\n  authenticate,\n  signup,\n  numberOfUsers,\n  getUsers,\n  deleteUser,\n  changeUserRole,\n  recoveryPassword\n};\nfunction authenticate(email, password) {\n  return instance.post('/auth/authenticate', {\n    email,\n    password\n  }, {\n    headers: {\n      'Content-type': 'application/json'\n    }\n  });\n}\nfunction signup(user) {\n  return instance.post('/auth/signup', user, {\n    headers: {\n      'Content-type': 'application/json'\n    }\n  });\n}\nfunction recoveryPassword(user) {\n  return fetch('/auth/recovery-password', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return response.json();\n  }).then(data => {\n    console.log('Success:', data);\n    return data;\n  }).catch(error => {\n    console.error('Error:', error);\n  });\n}\nfunction numberOfUsers() {\n  return instance.get('/public/numberOfUsers');\n}\nfunction getUsers(user, email) {\n  const url = email ? `/api/users/${email}` : '/api/users';\n  return instance.get(url, {\n    headers: {\n      'Authorization': basicAuth(user)\n    }\n  });\n}\nfunction deleteUser(user, email) {\n  return instance.delete(`/api/users/${email}`, {\n    headers: {\n      'Authorization': basicAuth(user)\n    }\n  });\n}\nfunction changeUserRole(user, email, newRole) {\n  return instance.put(`/api/users/change-role/${email}/${newRole}`, {\n    email,\n    role: newRole\n  }, {\n    headers: {\n      'Authorization': basicAuth(user)\n    }\n  });\n}\n\n// -- Axios\n\nconst instance = axios.create({\n  baseURL: config.url.API_BASE_URL\n});\n\n// -- Helper functions\n\nfunction basicAuth(user) {\n  return `Basic ${user.authdata}`;\n}","map":{"version":3,"names":["axios","config","LoginApi","authenticate","signup","numberOfUsers","getUsers","deleteUser","changeUserRole","recoveryPassword","email","password","instance","post","headers","user","fetch","method","body","JSON","stringify","then","response","ok","Error","status","json","data","console","log","catch","error","get","url","basicAuth","delete","newRole","put","role","create","baseURL","API_BASE_URL","authdata"],"sources":["C:/Users/bonow/Desktop/Teste-Login/login-ui/src/components/misc/LoginApi.js"],"sourcesContent":["import axios from 'axios'\nimport { config } from '../../Constants'\n\nexport const LoginApi = {\n  authenticate,\n  signup,\n  numberOfUsers,\n  getUsers,\n  deleteUser,\n  changeUserRole,\n  recoveryPassword\n}\n\nfunction authenticate(email, password) {\n  return instance.post('/auth/authenticate', { email, password }, {\n    headers: { 'Content-type': 'application/json' }\n\n  })\n}\n\nfunction signup(user) {\n  return instance.post('/auth/signup', user, {\n    headers: { 'Content-type': 'application/json' }\n  })\n}\nfunction recoveryPassword(user) {\n  return fetch('/auth/recovery-password', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(user),\n  })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n        return response.json();\n      })\n      .then(data => {\n        console.log('Success:', data);\n        return data;\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n}\n\nfunction numberOfUsers() {\n  return instance.get('/public/numberOfUsers')\n}\n\nfunction getUsers(user, email) {\n  const url = email ? `/api/users/${email}` : '/api/users'\n  return instance.get(url, {\n    headers: { 'Authorization': basicAuth(user) }\n  })\n}\n\nfunction deleteUser(user, email) {\n  return instance.delete(`/api/users/${email}`, {\n    headers: { 'Authorization': basicAuth(user) }\n  })\n}\n\n\nfunction changeUserRole(user, email, newRole) {\n  return instance.put(`/api/users/change-role/${email}/${newRole}`, {email, role: newRole }, {\n    headers: { 'Authorization': basicAuth(user) }\n  })\n}\n\n// -- Axios\n\nconst instance = axios.create({\n  baseURL: config.url.API_BASE_URL\n})\n\n// -- Helper functions\n\nfunction basicAuth(user) {\n  return `Basic ${user.authdata}`\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}